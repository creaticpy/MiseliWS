{% load js_functions %}

{% simple_tag_uuid as form_id %}


<form id="form_{{ form_id }}" method="post">{% csrf_token %}
    <div class="container border border-1 ">
        <div class="row" style="min-width: 620px">
            <div class="col-9 d-grid gap-2" style="min-width: 310px">
                <div class="row g-1 align-items-center ">
                    <div class="row" style="width: 13%; min-width: 110px;">
{#                        {{ form.contado_credito.label }}#}
                        Cont/Cred
                        {{ form.contado_credito }}
                    </div>
                    <div class="row" style="width: 20%; min-width: 160px;">
                        {{ form.dep_origen.label }}
                        {{ form.dep_origen }}
                    </div>
                    <div class="row" style="width: 20%; min-width: 160px;">
                        {{ form.conf_cuotas.label }}
                        {{ form.conf_cuotas }}
                    </div>
                    <div class="row" style="width: 10%; min-width: 120px">
                        {{ form.estado.label }}
                        {{ form.estado }}
                    </div>
                </div>


                <div class="row g-1 align-items-center ">
                    <div class="row" style="width: 13%; min-width: 80px">
                        {{ form.tip_documento.label }}
                        {{ form.tip_documento }}
                    </div>
                    <div class="row" style="width: 20%; min-width: 200px">
                        {{ form.nro_documento.label }}
                        {{ form.nro_documento }}
                    </div>
                    <div class="row" style="width: 20%; min-width: 200px">
                        {{ form.fecha_documento.label }}
                        {{ form.fecha_documento }}
                    </div>
                    <div class="row" style="width: 10%; min-width: 120px">
                        {{ form.periodo.label }}
                        {{ form.periodo }}
                    </div>
                    <div class="row" style="width: 15%; min-width: 200px">
                        {{ form.fecha_transaccion.label }}
                        {{ form.fecha_transaccion }}
                    </div>
                </div>

                <div class="row g-1 align-items-center ">
                    <div class="row" style="width: 40%; min-width: 300px">
                        {{ form.cliente.label }}
                        {{ form.cliente }}
                    </div>
                    <div class="row" style="width: 40%; min-width: 300px">
                        {{ form.razon_social.label }}
                        {{ form.razon_social }}
                    </div>

                    <div class="row" style="width: 20%">
                        {{ form.ruc.label }}
                        {{ form.ruc }}
                    </div>
                </div>
            </div>
            <div class="col-3" style="min-width: 310px">
                <div class="row">

                    <div class="row g-1" style="width: 60%">
                        {{ form.moneda.label }}
                        {{ form.moneda }}
                    </div>
                    <div class="row g-1" style="width: 80px">
                        {{ form.cotizacion.label }}
                        {{ form.cotizacion }}
                    </div>

                    <div class="row g-1" style="width: 50%">
                        {{ form.monto_mon_local.label }}
                        {{ form.monto_mon_local }}
                    </div>
                    <div class="row g-1" style="width: 50%">
                        {{ form.saldo_mon_local.label }}
                        {{ form.saldo_mon_local }}
                    </div>
                </div>


            </div>
        </div>
    </div>


    <h3><strong>Detalle</strong></h3>
    {{ formset.non_form_errors.as_ul }}
    <table id="formset" class="form">
        {{ formset.management_form }} {# Nooooooooooo olvidar esta linea #}
        {% for form in formset.forms %}
            {% if forloop.first %}
                <thead>
                <tr>
                    {% for field in form.visible_fields %}
                        <th>{{ field.label|capfirst }}</th>
                    {% endfor %}
                </tr>
                </thead>
            {% endif %}
            <tr class="{% cycle 'row1' 'row2' %}">
                {% for field in form.visible_fields %}
                    <td>
                        {#                        Include the hidden fields in the form#}
                        {% if forloop.first %}
                            {% for hidden in form.hidden_fields %}
                                {{ hidden }}
                            {% endfor %}
                        {% endif %}
                        {{ field.errors.as_ul }}
                        {{ field }}
                    </td>
                {% endfor %}
            </tr>
        {% endfor %}
    </table>

</form>
<h1>Aca salen los errores</h1>
    {{ error }}
    {{ form.error }}

<button type="button" form="form_{{ form_id }}" class="btn btn-primary"
        onclick="guardarformulario('form_{{ form_id }}', '{{ url_guardar }}')"> Guardar
</button>






